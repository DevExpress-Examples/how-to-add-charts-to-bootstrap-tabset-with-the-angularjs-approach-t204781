<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <link rel="dx-theme" data-theme="android5.light" href="css/dx.android5.light.css" data-active="false" />
    <link rel="stylesheet" type="text/css" href="css/dx.common.css" />
    <link rel="stylesheet" type="text/css" href="css/dx.spa.css" />
    <link rel="dx-theme" data-theme="generic.light" href="css/dx.light.css" data-active="true" />

    <title>How to add charts to bootstrap tabset with the AngularJS approach</title>
    <meta charset="utf-8" />
    <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/angular.min.js"></script>
    <script type="text/javascript" src="js/angular-sanitize.js"></script>
    <script type="text/javascript" src="js/globalize.min.js"></script>
    <script type="text/javascript" src="js/dx.all.js"></script>

    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.11.2.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">

    <script type="text/javascript" src="data.js"></script>

    <script type="text/javascript">

        var myApp = angular.module('myApp', ['ui.bootstrap', 'dx']);

        myApp.controller("defaultCtrl", function ($scope) {
            $scope.circularGaugeSettings = {
                scale: {
                    startValue: 50,
                    endValue: 150,
                    majorTick: {
                        tickInterval: 10
                    },
                    label: {
                        useRangeColors: true
                    }
                },
                rangeContainer: {
                    palette: 'pastel',
                    ranges: [
                        { startValue: 50, endValue: 90 },
                        { startValue: 90, endValue: 130 },
                        { startValue: 130, endValue: 150 },
                    ]
                },
                title: {
                    text: 'Temperature of the Liquid in the Boiler',
                    font: { size: 28 }
                },
                value: 105
            };

            $scope.linearGaugeSettings = {
                scale: {
                    startValue: 0,
                    endValue: 5,
                    majorTick: {
                        tickInterval: 2.5
                    },
                    minorTick: {
                        visible: true,
                        tickInterval: 0.625
                    }
                },
                title: {
                    text: 'TV Show Rating',
                    font: { size: 28 }
                },
                value: 4.3
            };

            $scope.renderChart = function (chartName) {
                var chart;
                switch (chartName) {
                    case 'circularGauge':
                        chart = $("#circularChartContainer").dxCircularGauge("instance");
                        break;
                    case 'linearGauge':
                        chart = $("#linearChartContainer").dxLinearGauge("instance");
                        break;
                };
                setTimeout(function () {
                    chart.render();
                });
            };
        });

    </script>
</head>
<body ng-controller="defaultCtrl">
    <tabset>
        <tab heading="One">One</tab>
        <tab heading="Two" select="renderChart('circularGauge')">
            <div id="circularChartContainer" dx-circular-gauge="circularGaugeSettings"></div>
        </tab>
        <tab heading="Three" select="renderChart('linearGauge')">
            <div id="linearChartContainer" dx-linear-gauge="linearGaugeSettings">
        </tab>
    </tabset>

</body>
</html>
